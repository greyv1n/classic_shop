(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],[,,,,,,function(e,c,t){},,,,,,function(e,c,t){},function(e,c,t){},,function(e,c,t){},function(e,c,t){"use strict";t.r(c);var a=t(1),n=t.n(a),s=t(7),i=t.n(s),r=(t(12),t(13),t(0));function j(){return Object(r.jsx)(r.Fragment,{})}var d=t(3),l=t(2),o=t(4),b=Object(a.createContext)();t(15);function O(e){var c=e.price,t=e.mainId,n=e.displayAssets,s=e.displayName,i=e.displayDescription,j=Object(a.useContext)(b);return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"card card-shadow",children:[Object(r.jsxs)("div",{className:"card-image",children:[Object(r.jsx)("img",{src:n[0].url,alt:s}),Object(r.jsx)("span",{className:"cards-title",children:s})]}),Object(r.jsx)("div",{className:"card-content",children:Object(r.jsx)("p",{children:i})}),Object(r.jsxs)("div",{className:"card-action",children:[Object(r.jsx)("button",{className:"btn",onClick:function(){return j.addToCart({mainId:t,displayName:s})},children:"\u041a\u0443\u043f\u0438\u0442\u044c"}),Object(r.jsxs)("span",{className:"rigth",children:[" \u0426\u0435\u043d\u0430 ",c.finalPrice," \u0433\u0440\u043d"]})]})]})})}function u(e){var c=e.goods,t=void 0===c?[]:c;return t.length?Object(r.jsxs)("section",{className:"new-arrival",children:[Object(r.jsxs)("div",{className:"arrival-heading",children:[Object(r.jsx)("strong",{children:"New Arrival"}),Object(r.jsx)("p",{children:"We Provide You New Fasion Design Clothes"})]}),Object(r.jsx)("div",{className:"product-container",children:Object(r.jsx)("div",{className:"goods",children:t.map((function(e){return Object(r.jsx)(O,Object(l.a)({},e),e.mainId)}))})})]}):Object(r.jsx)("h3",{children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u0442"})}function h(){return Object(r.jsx)("div",{className:"progress"})}t(6);function m(e){var c=e.name,t=e.price,n=e.countGoods,s=e.image,i=e.mainId,j=Object(a.useContext)(b);return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"cart-item",children:[Object(r.jsx)("img",{src:s,alt:c,className:"cart-img"}),Object(r.jsx)("div",{className:"cart-name",children:c}),Object(r.jsxs)("div",{className:"cart-col",children:[Object(r.jsx)("span",{className:"cart-minus",onClick:function(){return j.minusGoods({mainId:i})},children:"-"}),Object(r.jsx)("span",{className:"cart-input",children:n}),Object(r.jsx)("span",{className:"cart-add",onClick:function(){return j.addGoods({mainId:i})},children:"+"}),Object(r.jsx)("span",{className:"cart-x",children:"X"}),Object(r.jsxs)("span",{className:"cart-price",children:["  ",+n*+t," \u0433\u0440\u043d."]})]}),Object(r.jsxs)("button",{className:"cart-trash",onClick:function(){return j.deleteToCart({mainId:i})},children:[" ",Object(r.jsx)("i",{className:"material-icons",children:"delete"})]})]})})}function x(){var e=Object(a.useContext)(b),c=e.count,t=e.goods,n=e.cart,s=e.handleCartShow,i=e.cartShow;if(!t.length)return null;var j=t.reduce((function(e,c){return e[c.mainId]=c,e}),{});return Object(r.jsx)("div",{className:"product-container wrap",children:Object(r.jsxs)("div",{className:"cart-container",children:[Object(r.jsxs)("div",{className:"cart",onClick:function(){return s()},children:[Object(r.jsx)("i",{className:"material-icons",children:"shopping_cart"}),c]}),c?Object(r.jsx)("div",{className:i?"":"cart-hide",children:Object(r.jsxs)("div",{className:"cart-wrap",children:[Object(r.jsx)("div",{className:"cart-close",onClick:function(){return s()},children:Object(r.jsx)("button",{className:"btn-floating disabled",children:Object(r.jsx)("i",{className:"material-icons",children:"close"})})}),Object(r.jsx)("div",{className:"arrival-heading",children:Object(r.jsx)("strong",{children:"Shopping Cart"})}),Object(r.jsx)("div",{className:"cart-goods",children:Object.keys(n).map((function(e){return Object(r.jsx)(m,{name:j[e].displayName,price:j[e].price.finalPrice,countGoods:n[e],image:j[e].displayAssets[0].background,mainId:e},e)}))}),Object(r.jsxs)("div",{children:["\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: ",Object(r.jsx)("span",{className:"cart-total-price",children:Object.keys(n).reduce((function(e,c){return e+j[c].price.finalPrice*n[c]}),0)})," \u0433\u0440\u043d."]})]})}):Object(r.jsx)("div",{className:i?"":"cart-hide",children:Object(r.jsxs)("div",{className:"cart-wrap",children:[Object(r.jsx)("div",{className:"cart-close",onClick:function(){return s()},children:Object(r.jsx)("button",{className:"btn-floating disabled",children:Object(r.jsx)("i",{className:"material-icons",children:"close"})})}),Object(r.jsx)("div",{className:"arrival-heading",children:Object(r.jsx)("strong",{children:"Shopping Cart"})}),Object(r.jsx)("div",{className:"cart-goods",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430"})]})})]})})}function p(){var e=Object(a.useState)(0),c=Object(o.a)(e,2),t=c[0],n=c[1],s=Object(a.useState)(!1),i=Object(o.a)(s,2),j=i[0],O=i[1],m=Object(a.useState)({}),p=Object(o.a)(m,2),v=p[0],f=p[1],N=Object(a.useState)(0),g=Object(o.a)(N,2),C=g[0],I=g[1],k=Object(a.useState)(!1),w=Object(o.a)(k,2),S=w[0],y=w[1],F={addToCart:function(e){var c=e.mainId;void 0===v[c]?(f(Object(l.a)(Object(l.a)({},v),{},Object(d.a)({},c,v[c]=1))),I(C+1)):(f(Object(l.a)(Object(l.a)({},v),{},Object(d.a)({},c,v[c]+1))),I(C+1))},deleteToCart:G,handleCartShow:function(){y(!S)},addGoods:function(e){var c=e.mainId;f(Object(l.a)(Object(l.a)({},v),{},Object(d.a)({},c,v[c]+1))),I(C+1)},minusGoods:function(e){var c=e.mainId;v[c]>1?(f(Object(l.a)(Object(l.a)({},v),{},Object(d.a)({},c,v[c]-1))),I(C-1)):G(e)},cartShow:S,goods:t,count:C,cart:v};function G(e){var c=e.mainId;if(C>0){var t,a={};Object.keys(v).map((function(e){return e!==c?a[e]=v[e]:t=v[e]})),f(a),I(C-t)}}return Object(a.useEffect)((function(){fetch("https://fortniteapi.io/v2/shop?lang=en",{headers:{Authorization:"3bd41982-f83950cd-bd5237b2-6f906691"},type:"GET"}).then((function(e){return e.json()})).then((function(e){e.shop&&n(e.shop),O(!0)}))}),[]),Object(r.jsx)(b.Provider,{value:F,children:Object(r.jsxs)("div",{className:"container content",children:[Object(r.jsxs)("div",{children:[" ",Object(r.jsx)(x,{})]}),Object(r.jsx)("div",{children:j?Object(r.jsx)(u,{goods:t}):Object(r.jsx)(h,{})})]})})}var v=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(j,{}),Object(r.jsx)(p,{})]})},f=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,17)).then((function(c){var t=c.getCLS,a=c.getFID,n=c.getFCP,s=c.getLCP,i=c.getTTFB;t(e),a(e),n(e),s(e),i(e)}))};i.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(v,{})}),document.getElementById("root")),f()}],[[16,1,2]]]);
//# sourceMappingURL=main.b3ba37da.chunk.js.map